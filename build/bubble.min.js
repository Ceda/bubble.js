!function(t,n){"function"==typeof define&&define.amd?define([],n):n()}(this,function(){bubble=function(t){var n,e,r,o={},i={},f=document,u={},a="querySelector",c="querySelectorAll",l="data-bubble-action",v="getAttribute",d=function(t,n,e){return t.addEventListener?(t.addEventListener(n,e,"focus"===n||"blur"===n),!0):t.attachEvent?t.attachEvent("on"+n,e):void 0},g=function(t){var n,e,r=t.split(/, ?/g),o=[];for(e=0;e<r.length;e++)n=r[e].split(/:/),o.push({type:n[0].trim(),event:n[1]?n[1]:!1});return o},h=function(t,n){var e,r;if(t&&t.target&&t.target[v]&&t.target[v](l))for(e=g(t.target[v](l)),r=0;r<e.length;r++)e[r].type===n&&e[r].event&&(t.stopPropagation(),o.dispatch(e[r].event,t))};if(o.root=n=f&&f[a]?f[a](t):!1,o.on=function(t,n){return u[t]||(u[t]=[]),u[t].push(n),o},o.off=function(t,n){if(u[t])for(var e=0;e<u[t].length;e++)if(u[t][e]===n)return u[t].splice(e,1),o;return o},o.dispatch=function(t,n){if(u[t])for(var e=0;e<u[t].length;e++)u[t][e](n);return o},n){for(o.nodes=r=n[c]("["+l+"]"),e=0;e<r.length;e++)for(var p=g(r[e][v](l)),s=0;s<p.length;s++)i[p[s].type]=!0;for(var b in i)!function(t){d(n,t,function(n){h(n,t)})}(b);return o}return!1}});