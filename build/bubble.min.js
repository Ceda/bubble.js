!function(e,t){"function"==typeof define&&define.amd?define([],t):t()}(this,function(){bubble=function(e,t){var n,r={},o=document,u={},a=[],c=t||{blur:!0,change:!0,click:!0,dblclick:!0,drag:!0,dragend:!0,dragenter:!0,dragleave:!0,dragover:!0,dragstart:!0,drop:!0,focus:!0,fullscreenchange:!0,input:!0,keydown:!0,keypress:!0,keyup:!0,mousedown:!0,mouseenter:!0,mouseleave:!0,mousemove:!0,mouseout:!0,mouseover:!0,mouseup:!0,paste:!0,readystatechange:!0,resize:!0,scroll:!0,touchcancel:!0,touchend:!0,touchenter:!0,touchleave:!0,touchmove:!0,touchstart:!0,transitionend:!0,load:!0,unload:!0},i="querySelector",f="data-bubble-action",s="getAttribute",d=function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,"focus"===t||"blur"===t),!0):e.attachEvent?e.attachEvent("on"+t,n):void 0},l=function(e){var t,n,r=e?e.split(/, ?/g):[],o=[];for(n=0;n<r.length;n++)t=r[n].split(/:/),o.push(t.length>1?{type:t[0].trim(),event:t[1]}:{type:"click",event:t[0]});return o},h=function(e,t){var o,u=[];for(e&&e.target&&e.target[s]&&e.target[s](f)?u=l(e.target[s](f)):n[s](f)&&(u=l(n[s](f))),o=0;o<u.length;o++)u[o].type===t&&u[o].event&&r.dispatch(u[o].event,e)};if(r.root=n=o&&o[i]?o[i](e):!1,r.on=function(e,t){return"object"==typeof e?(a.push(e),r):(u[e]||(u[e]=[]),u[e].push(t),r)},r.off=function(e,t){if(u[e])for(var n=0;n<u[e].length;n++)if(u[e][n]===t)return u[e].splice(n,1),r;return r},r.dispatch=function(e,t){var n;if(u[e])for(n=0;n<u[e].length;n++)u[e][n](t);if(a.length>0)for(n=0;n<a.length;n++)a[n][e]&&a[n][e](t);return r},n){for(var g in c)!function(e){d(n,e,function(t){h(t,e)})}(g);return r}return!1}});