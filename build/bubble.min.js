!function(e,t){"function"==typeof define&&define.amd?define([],t):t()}(this,function(){bubble=function(e,t){var n,r={},o=document,u={},a=[],c=t||{blur:1,change:1,click:1,dblclick:1,drag:1,dragend:1,dragenter:1,dragleave:1,dragover:1,dragstart:1,drop:1,focus:1,fullscreenchange:1,input:1,keydown:1,keypress:1,keyup:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mouseout:1,mouseover:1,mouseup:1,paste:1,readystatechange:1,resize:1,scroll:1,touchcancel:1,touchend:1,touchenter:1,touchleave:1,touchmove:1,touchstart:1,transitionend:1,load:1,unload:1},i="querySelector",f="data-bubble-action",s="getAttribute",d=function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,"focus"===t||"blur"===t),!0):e.attachEvent?e.attachEvent("on"+t,n):void 0},l=function(e){var t,n,r=e?e.split(/, ?/g):[],o=[];for(n=0;n<r.length;n++)t=r[n].split(/:/),o.push(t.length>1?{type:t[0].trim(),event:t[1]}:{type:"click",event:t[0]});return o},h=function(e,t){var o,u=[];for(e&&e.target&&e.target[s]&&e.target[s](f)?u=l(e.target[s](f)):n[s](f)&&(u=l(n[s](f))),o=0;o<u.length;o++)u[o].type===t&&u[o].event&&r.dispatch(u[o].event,e)};if(r.root=n=o&&o[i]?o[i](e):!1,r.on=function(e,t){return"object"==typeof e?(a.push(e),r):(u[e]||(u[e]=[]),u[e].push(t),r)},r.off=function(e,t){if(u[e])for(var n=0;n<u[e].length;n++)if(u[e][n]===t)return u[e].splice(n,1),r;return r},r.dispatch=function(e,t){var n;if(u[e])for(n=0;n<u[e].length;n++)u[e][n](t);if(a.length>0)for(n=0;n<a.length;n++)a[n][e]&&a[n][e](t);return r},n){for(var g in c)!function(e){d(n,e,function(t){h(t,e)})}(g);return r}return!1}});